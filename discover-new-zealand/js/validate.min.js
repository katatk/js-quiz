// get the buttons
var submitBtn = document.querySelector('[type="submit"]');
var clearBtn = document.querySelector('[type="reset"]');


// get the form 
var contactForm = document.querySelector("form");

// create a div for the validation message
var validationContainer = document.createElement("div");
validationContainer.id = "validation-container";

// add event listeners to submit and clear buttons
submitBtn.addEventListener("click", validateForm);
clearBtn.addEventListener("click", clearForm);

function validateName(name) {

    // validate full name
    if (name == "") {
        errorMessage += "<li>Please enter a name</li>";

    } else if (!/^[a-zA-Z]{2,}\s[a-zA-Z]{2,}$/.test(name)) {
        errorMessage += "<li>" + name + " is NOT a valid first and last name</li>";
    }
}

function validateEmail(email) {

    // validate email
    if (email == "") {
        errorMessage += "<li>Please enter an email address</li>";


    } else if (!/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$/.test(email)) {
        errorMessage += "<li>" + email + " is NOT a valid email address</li>";
    }

}

function validatePhone(phone) {
    if (phone == "") {
        errorMessage += "<li>Please enter a phone number</li>";
    }

    // number characters between  9-10, can start with a plus
    // and can contain 0 or more spaces

    // regular expression method
    // !/^\+?([0-9]{9,10})$/.test(phone)
    
    // if phone number field contains something, run this
    else if (phone != "") {
        if (phone.length > 13 || phone.length < 9) {
            errorMessage += "<li>Phone number must be between 9 and 13 characters long (can include spaces)</li>";
        }

        // phone number must contain either a plus or a 0 at the beginning
       /* if (phone.charAt(0) != "0" || phone.charAt(0) != "+") {
            errorMessage += "<li>" + phone + " is NOT a valid phone number</li>";
        }*/
    }

}

function validateMsg(message) {
    // validate message
    if (message == "") {
        errorMessage += "<li>Please enter a message</li>";

    } else if (message != "") {
        if (message.length <= 10) {
            errorMessage += "<li>Your message needs to be ten characters or longer</li>";
        }

        if (message.length > 500) {
            errorMessage += "<li>Your message needs to shorter than 500 characters</li>";
        }
    }
}

var errorMessage;

function validateForm() {
    // set an empty error message to be built up when validate function runs
    errorMessage = "";

    // get the user full name
    var strFullName = document.getElementById("full-name").value;

    // get the email address
    var strEmail = document.getElementById("email").value;

    // get the phone number
    var strPhone = document.getElementById("phone-number").value;

    // get the message
    var strMessage = document.getElementById("message").value;

    validateName(strFullName);
    validateEmail(strEmail);
    validatePhone(strPhone);
    validateMsg(strMessage);

    // append validation message container to form if it's not already in existance
    /* if (validation container does not exist) {*/
    contactForm.appendChild(validationContainer);
    /*}*/

    // update validation container's inner html to the error message
    validationContainer.innerHTML = errorMessage;

}

function clearForm() {

}
